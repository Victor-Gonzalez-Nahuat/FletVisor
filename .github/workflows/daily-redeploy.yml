name: Redeploy diario Railway

on:
  schedule:
    - cron: '0 8 * * *'  # Todos los días a las 2:00 AM hora Mérida (UTC-6)
  workflow_dispatch:  # También puedes ejecutarlo manualmente si quieres

jobs:
  redeploy:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout código
        uses: actions/checkout@v3

      - name: Configurar Git
        run: |
          git config --global user.name 'GitHub Actions'
          git config --global user.email 'actions@github.com'

      - name: Crear commit dummy para redeploy
        run: |
          echo "// redeploy trigger $(date)" >> .redeploy.txt
          git add .redeploy.txt
          git commit -m "🔁 Redeploy diario automático"
          git push
